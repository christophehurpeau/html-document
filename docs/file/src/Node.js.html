<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/Node.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/christophehurpeau/html-document" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Comment.js~Comment.html">Comment</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/DOMException.js~DOMException.html">DOMException</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Doctype.js~Doctype.html">Doctype</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Document.js~Document.html">Document</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/DocumentFragment.js~DocumentFragment.html">DocumentFragment</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Element.js~Element.html">Element</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Event.js~Event.html">Event</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement.js~HTMLElement.html">HTMLElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Node.js~Node.html">Node</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/NodeList.js~NodeList.html">NodeList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ParentNode.js~ParentNode.html">ParentNode</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Text.js~Text.html">Text</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parse">parse</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Abstract</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Abstract/AbstractCSSStyleDeclaration.js~AbstractCSSStyleDeclaration.html">AbstractCSSStyleDeclaration</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">HTMLElement</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/CSSStyleDeclaration.js~CSSStyleDeclaration.html">CSSStyleDeclaration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/ClassList.js~ClassList.html">ClassList</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">HTMLElement/elements</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/elements/HTMLMetaElement.js~HTMLMetaElement.html">HTMLMetaElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/elements/HTMLOptionElement.js~HTMLOptionElement.html">HTMLOptionElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/elements/HTMLSelectElement.js~HTMLSelectElement.html">HTMLSelectElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/elements/HTMLTableCaptionElement.js~HTMLTableCaptionElement.html">HTMLTableCaptionElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/elements/HTMLTableElement.js~HTMLTableElement.html">HTMLTableElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/elements/HTMLTableRowElement.js~HTMLTableRowElement.html">HTMLTableRowElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/HTMLElement/elements/HTMLTableSectionElement.js~HTMLTableSectionElement.html">HTMLTableSectionElement</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">utils</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/Url.js~Url.html">Url</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-cloneElementNode">cloneElementNode</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-cloneTextNode">cloneTextNode</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-escapeAttribute">escapeAttribute</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-attributeNameToProperty">attributeNameToProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-propertyNameToAttribute">propertyNameToAttribute</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-escapeHTML">escapeHTML</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-querySelector">querySelector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-querySelectorAll">querySelectorAll</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/Node.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * A Node is an interface from which a number of DOM types inherit,
 * and allows these various types to be treated (or tested) similarly.
 *
 * @see https://developer.mozilla.org/en/docs/Web/API/Node
 */
export default class Node {
    constructor() {
        this._attributes = {};
    }

    /**
     * Returns the Document that this node belongs to.
     * If no document is associated with it, returns null.
     *
     * @type {Document}
     * @readonly
     */
    get ownerDocument() {
        return this._ownerDocument || null;
    }

    /* ATTRIBUTES */

    /**
     * get attribute&apos;s value
     *
     * @param {string} attributeName
     * @return {string}
     */
    getAttribute(attributeName) {
        return attributeName in this._attributes ? this._attributes[attributeName] : null;
    }

    /**
     * checks if attribute exists for node
     *
     * @method Node#hasAttribute
     * @param {string} attributeName
     * @return {boolean}
     */
    hasAttribute(attributeName) {
        return attributeName in this._attributes;
    }

    /**
     * set attribute&apos;s value
     *
     * @method Node#setAttribute
     * @param {string} attributeName
     * @param {string} attributeValue
     */
    setAttribute(attributeName, attributeValue) {
        this._setAttribute(attributeName, attributeValue);
        this._updatedAttribute(attributeName, this._attributes[attributeName]);
    }

    /**
     * set attribute&apos;s value
     *
     * @internal
     * @param {string} attributeName
     * @param {string} attributeValue
     */
    _setAttribute(attributeName, attributeValue) {
        this._attributes[attributeName] = String(attributeValue);
    }

    /**
     * remove attribute
     *
     * @param {string} attributeName
     */
    removeAttribute(attributeName) {
        if (this._attributes[attributeName] !== undefined) {
            delete this._attributes[attributeName];
            this._updatedAttribute(attributeName);
        }
    }

    /**
     * @internal
     * @param {string} attributeName
     * @param {string} [value]
     */
    _updatedAttribute(attributeName, value) {
    }

    /* CONTENT */

    /**
     * @type {string}
     */
    get textContent() {
        return &apos;&apos;;
    }

    _toHTML() {
        return this.outerHTML;
    }

    /* EVENTS */

    /**
     * @param {string} eventType
     * @param {function} listener
     * @param {boolean} capturingPhase
     */
    addEventListener(eventType, listener, capturingPhase) {
        eventType = eventType.toLowerCase();
        const _eventsKey = capturingPhase ? &apos;_eventsCapturingPhase&apos; : &apos;_eventsBubblingPhase&apos;;
        if (!this[_eventsKey]) {
            this[_eventsKey] = new Map();
        }

        let callbacks;
        if (!this[_eventsKey].has(eventType)) {
            this[_eventsKey].set(eventType, callbacks = []);
        } else {
            callbacks = this[_eventsKey].get(eventType);
        }

        callbacks.push(listener);
        return this;
    }

    /**
     * @param {string} eventType
     * @param {function} listener
     * @param {boolean} capturingPhase
     */
    removeEventListener(eventType, listener, capturingPhase) {
        eventType = eventType.toLowerCase();
        const _eventsKey = capturingPhase ? &apos;_eventsCapturingPhase&apos; : &apos;_eventsBubblingPhase&apos;;
        if (this[_eventsKey] &amp;&amp; this[_eventsKey].has(eventType)) {
            let callbacks = this[_eventsKey].get(eventType);
            let index = callbacks.indexOf(listener);
            if (index === -1) {
                return false;
            }

            callbacks.splice(index, 1);
        }
    }

    /**
     * @param {Event} event
     * @return {boolean}
     */
    dispatchEvent(event) {
        event.target = this;

        // Capturing phase
        const capturingPhase = function(event) {
            if (this._parentNode) {
                capturingPhase.call(this._parentNode, event);
            }

            if (event.propagationStopped) {
                return;
            }

            const callbacks = this._eventsCapturingPhase &amp;&amp; this._eventsCapturingPhase.get(event.type);
            if (callbacks) {
                callbacks.some(function(callback) {
                    callback(event);
                    return event.immediatePropagationStopped;
                });
            }
        };

        capturingPhase.call(this, event);

        // Bubbling phase
        if (!event.propagationStopped) {
            const bubblingPhase = function(event) {
                const callbacks = this._eventsBubblingPhase &amp;&amp; this._eventsBubblingPhase.get(event.type);
                if (callbacks) {
                    callbacks.some(function(callback) {
                        callback(event);
                        return event.immediatePropagationStopped;
                    });
                }

                if (!event.propagationStopped &amp;&amp; this._parentNode) {
                    bubblingPhase.call(this._parentNode, event);
                }
            };

            bubblingPhase.call(this, event);
        }

        return !event.defaultPrevented;
    }

    /**
     * @property Node#nodeValue
     * @returns {string|null}
     */
    get nodeValue() {
        return null;
    }

    /**
     * @param {*} value
     */
    set nodeValue(value) {
    }
}

/**
 * @constant {number} Node.ELEMENT_NODE
 */
Object.defineProperty(Node, &apos;ELEMENT_NODE&apos;, { value: 1 });

/**
 * @constant {number} Node.ATTRIBUTE_NODE
 */
Object.defineProperty(Node, &apos;ATTRIBUTE_NODE&apos;, { value: 2 });

/**
 * @constant {number} Node.TEXT_NODE
 */
Object.defineProperty(Node, &apos;TEXT_NODE&apos;, { value: 3 });

/**
 * @constant {number} Node.CDATA_SECTION_NODE
 */
Object.defineProperty(Node, &apos;CDATA_SECTION_NODE&apos;, { value: 4 });

/**
 * @constant {number} Node.ENTITY_REFERENCE_NODE
 */
Object.defineProperty(Node, &apos;ENTITY_REFERENCE_NODE&apos;, { value: 5 });

/**
 * @constant {number} Node.ENTITY_NODE
 */
Object.defineProperty(Node, &apos;ENTITY_NODE&apos;, { value: 6 });

/**
 * @constant {number} Node.PROCESSING_INSTRUCTION_NODE
 */
Object.defineProperty(Node, &apos;PROCESSING_INSTRUCTION_NODE&apos;, { value: 7 });

/**
 * @constant {number} Node.COMMENT_NODE
 */
Object.defineProperty(Node, &apos;COMMENT_NODE&apos;, { value: 8 });

/**
 * @constant {number} Node.DOCUMENT_NODE
 */
Object.defineProperty(Node, &apos;DOCUMENT_NODE&apos;, { value: 9 });

/**
 * @constant {number} Node.DOCUMENT_TYPE_NODE
 */
Object.defineProperty(Node, &apos;DOCUMENT_TYPE_NODE&apos;, { value: 10 });

/**
 * @constant {number} Node.DOCUMENT_FRAGMENT_NODE
 */
Object.defineProperty(Node, &apos;DOCUMENT_FRAGMENT_NODE&apos;, { value: 11 });

/**
 * @constant {number} Node.NOTATION_NODE
 */
Object.defineProperty(Node, &apos;NOTATION_NODE&apos;, { value: 12 });
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.1)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
