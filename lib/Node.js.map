{"version":3,"sources":["../src/Node.js"],"names":[],"mappings":"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","file":"Node.js","sourcesContent":["/**\n * A Node is an interface from which a number of DOM types inherit,\n * and allows these various types to be treated (or tested) similarly.\n *\n * @see https://developer.mozilla.org/en/docs/Web/API/Node\n */\nexport default class Node {\n    constructor() {\n        this._attributes = {};\n    }\n\n    /**\n     * Returns the Document that this node belongs to.\n     * If no document is associated with it, returns null.\n     *\n     * @type {Document}\n     * @readonly\n     */\n    get ownerDocument() {\n        return this._ownerDocument || null;\n    }\n\n    /* ATTRIBUTES */\n\n    /**\n     * get attribute's value\n     *\n     * @param {string} attributeName\n     * @return {string}\n     */\n    getAttribute(attributeName) {\n        return attributeName in this._attributes ? this._attributes[attributeName] : null;\n    }\n\n    /**\n     * checks if attribute exists for node\n     *\n     * @method Node#hasAttribute\n     * @param {string} attributeName\n     * @return {boolean}\n     */\n    hasAttribute(attributeName) {\n        return attributeName in this._attributes;\n    }\n\n    /**\n     * set attribute's value\n     *\n     * @method Node#setAttribute\n     * @param {string} attributeName\n     * @param {string} attributeValue\n     */\n    setAttribute(attributeName, attributeValue) {\n        this._setAttribute(attributeName, attributeValue);\n        this._updatedAttribute(attributeName, this._attributes[attributeName]);\n    }\n\n    /**\n     * set attribute's value\n     *\n     * @internal\n     * @param {string} attributeName\n     * @param {string} attributeValue\n     */\n    _setAttribute(attributeName, attributeValue) {\n        if (attributeValue === undefined) {\n            this._attributes[attributeName] = null;\n        } else {\n            this._attributes[attributeName] = String(attributeValue);\n        }\n    }\n\n    /**\n     * remove attribute\n     *\n     * @param {string} attributeName\n     */\n    removeAttribute(attributeName) {\n        if (this._attributes[attributeName] !== undefined) {\n            delete this._attributes[attributeName];\n            this._updatedAttribute(attributeName);\n        }\n    }\n\n    /**\n     * @internal\n     * @param {string} attributeName\n     * @param {string} [value]\n     */\n    _updatedAttribute(attributeName, value) {\n    }\n\n    /* CONTENT */\n\n    /**\n     * @type {string}\n     */\n    get textContent() {\n        return '';\n    }\n\n    _toHTML() {\n        return this.outerHTML;\n    }\n\n    /* EVENTS */\n\n    /**\n     * @param {string} eventType\n     * @param {function} listener\n     * @param {boolean} capturingPhase\n     */\n    addEventListener(eventType, listener, capturingPhase) {\n        eventType = eventType.toLowerCase();\n        const _eventsKey = capturingPhase ? '_eventsCapturingPhase' : '_eventsBubblingPhase';\n        if (!this[_eventsKey]) {\n            this[_eventsKey] = new Map();\n        }\n\n        let callbacks;\n        if (!this[_eventsKey].has(eventType)) {\n            this[_eventsKey].set(eventType, callbacks = []);\n        } else {\n            callbacks = this[_eventsKey].get(eventType);\n        }\n\n        callbacks.push(listener);\n        return this;\n    }\n\n    /**\n     * @param {string} eventType\n     * @param {function} listener\n     * @param {boolean} capturingPhase\n     */\n    removeEventListener(eventType, listener, capturingPhase) {\n        eventType = eventType.toLowerCase();\n        const _eventsKey = capturingPhase ? '_eventsCapturingPhase' : '_eventsBubblingPhase';\n        if (this[_eventsKey] && this[_eventsKey].has(eventType)) {\n            let callbacks = this[_eventsKey].get(eventType);\n            let index = callbacks.indexOf(listener);\n            if (index === -1) {\n                return false;\n            }\n\n            callbacks.splice(index, 1);\n        }\n    }\n\n    /**\n     * @param {Event} event\n     * @return {boolean}\n     */\n    dispatchEvent(event) {\n        event.target = this;\n\n        // Capturing phase\n        const capturingPhase = function (event) { // eslint-disable-line space-before-function-paren\n            if (this._parentNode) {\n                capturingPhase.call(this._parentNode, event);\n            }\n\n            if (event.propagationStopped) {\n                return;\n            }\n\n            const callbacks = this._eventsCapturingPhase && this._eventsCapturingPhase.get(event.type);\n            if (callbacks) {\n                callbacks.some(function (callback) { // eslint-disable-line space-before-function-paren\n                    callback(event);\n                    return event.immediatePropagationStopped;\n                });\n            }\n        };\n\n        capturingPhase.call(this, event);\n\n        // Bubbling phase\n        if (!event.propagationStopped) {\n            const bubblingPhase = function (event) { // eslint-disable-line space-before-function-paren\n                const callbacks = this._eventsBubblingPhase && this._eventsBubblingPhase.get(event.type);\n                if (callbacks) {\n                    callbacks.some(function (callback) { // eslint-disable-line space-before-function-paren\n                        callback(event);\n                        return event.immediatePropagationStopped;\n                    });\n                }\n\n                if (!event.propagationStopped && this._parentNode) {\n                    bubblingPhase.call(this._parentNode, event);\n                }\n            };\n\n            bubblingPhase.call(this, event);\n        }\n\n        return !event.defaultPrevented;\n    }\n\n    /**\n     * @property Node#nodeValue\n     * @returns {string|null}\n     */\n    get nodeValue() {\n        return null;\n    }\n\n    /**\n     * @param {*} value\n     */\n    set nodeValue(value) {\n    }\n}\n\n/**\n * @constant {number} Node.ELEMENT_NODE\n */\nObject.defineProperty(Node, 'ELEMENT_NODE', { value: 1 });\n\n/**\n * @constant {number} Node.ATTRIBUTE_NODE\n */\nObject.defineProperty(Node, 'ATTRIBUTE_NODE', { value: 2 });\n\n/**\n * @constant {number} Node.TEXT_NODE\n */\nObject.defineProperty(Node, 'TEXT_NODE', { value: 3 });\n\n/**\n * @constant {number} Node.CDATA_SECTION_NODE\n */\nObject.defineProperty(Node, 'CDATA_SECTION_NODE', { value: 4 });\n\n/**\n * @constant {number} Node.ENTITY_REFERENCE_NODE\n */\nObject.defineProperty(Node, 'ENTITY_REFERENCE_NODE', { value: 5 });\n\n/**\n * @constant {number} Node.ENTITY_NODE\n */\nObject.defineProperty(Node, 'ENTITY_NODE', { value: 6 });\n\n/**\n * @constant {number} Node.PROCESSING_INSTRUCTION_NODE\n */\nObject.defineProperty(Node, 'PROCESSING_INSTRUCTION_NODE', { value: 7 });\n\n/**\n * @constant {number} Node.COMMENT_NODE\n */\nObject.defineProperty(Node, 'COMMENT_NODE', { value: 8 });\n\n/**\n * @constant {number} Node.DOCUMENT_NODE\n */\nObject.defineProperty(Node, 'DOCUMENT_NODE', { value: 9 });\n\n/**\n * @constant {number} Node.DOCUMENT_TYPE_NODE\n */\nObject.defineProperty(Node, 'DOCUMENT_TYPE_NODE', { value: 10 });\n\n/**\n * @constant {number} Node.DOCUMENT_FRAGMENT_NODE\n */\nObject.defineProperty(Node, 'DOCUMENT_FRAGMENT_NODE', { value: 11 });\n\n/**\n * @constant {number} Node.NOTATION_NODE\n */\nObject.defineProperty(Node, 'NOTATION_NODE', { value: 12 });\n"]}