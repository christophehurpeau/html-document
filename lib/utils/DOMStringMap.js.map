{"version":3,"sources":["../../src/utils/DOMStringMap.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;IAMM,YAAY;AACH,aADT,YAAY,CACF,OAAO,EAAE;8BADnB,YAAY;;AAEV,YAAI,CAAC,aAAa,GAAG,OAAO,CAAC;AAC7B,YAAI,CAAC,OAAO,GAAG,UAAS,CAAC;KAC5B;;;;;;;;;;;;;;iBAJC,YAAY;;eAaV,cAAC,QAAQ,EAAE;AACX,gBAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AAC5B,uBAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;aACrC;;AAED,gBAAI,IAAI,GAAG,uBAAuB,CAAC,QAAQ,CAAC,CAAC;AAC7C,gBAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;AACvC,uBAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;aAChD;;AAED,mBAAO,SAAS,CAAC;SACpB;;;;;;;;;;;;;;;;eASG,cAAC,QAAQ,EAAE,KAAK,EAAE;AAClB,gBAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;AAClC,gBAAI,CAAC,aAAa,CAAC,YAAY,CAAC,uBAAuB,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,CAAC;SAC7E;;;;;;;;;;;;;;;eASG,cAAC,QAAQ,EAAE;AACX,gBAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AAC5B,uBAAO,IAAI,CAAC;aACf;;AAED,mBAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC7E;;;;;;;;;;;;;;eAQgB,oBAAC,IAAI,EAAE;AACpB,mBAAO;AACH,mBAAG,EAAE,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;AACxC,mBAAG,EAAE,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;AACxC,mBAAG,EAAE,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;aAC3C,CAAC;SACL;;;;;;;;;;;;;;;;;eAUiB,qBAAC,QAAQ,EAAE,QAAQ,EAAE;AACnC,gBAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;AACrB,uBAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC9B;AACD,mBAAO,SAAS,CAAC;SACpB;;;;;;;;;;;;;;;;;eAUiB,qBAAC,QAAQ,EAAE,QAAQ,EAAE;AACnC,mBAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC9B;;;;;;;;;;;;;;;;;;eAUiB,qBAAC,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE;AAC1C,gBAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;SAC9B;;;WAxGC,YAAY;;;;;;AA2GlB,SAAS,kBAAkB,CAAC,OAAO,EAAE;AACjC,QAAI,IAAI,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC;AACrC,WAAO,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;CACtD;;;;;;;;;;AAQD,SAAS,uBAAuB,CAAC,IAAI,EAAE;AACnC,WAAO,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;CACtC;;;;;;;;;;AAQD,SAAS,uBAAuB,CAAC,IAAI,EAAE;AACnC,WAAO,OAAO,GAAG,IAAI,CAAC;CACzB;;QAEO,YAAY,GAAZ,YAAY;QAAE,kBAAkB,GAAlB,kBAAkB;QAAE,uBAAuB,GAAvB,uBAAuB;QAAE,uBAAuB,GAAvB,uBAAuB","file":"DOMStringMap.js","sourcesContent":["/**\n * Class provides DOMStringMap implementation for processing dataset properties.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset\n * @extends {Map}\n */\nclass DOMStringMap {\n    constructor(element) {\n        this._ownerElement = element;\n        this._values = new Map();\n    }\n\n    /**\n     * Method provides searching of property in inner storage and in elements attributes.\n     *\n     * @param {string} property\n     * @returns {string}\n     * @private\n     */\n    _get(property) {\n        if (this._values.has(property)) {\n            return this._values.get(property);\n        }\n\n        let name = propertyNameToAttribute(property);\n        if (this._ownerElement.hasAttribute(name)) {\n            return this._ownerElement.getAttribute(name);\n        }\n\n        return undefined;\n    }\n\n    /**\n     * Method provides setting of value in inner storage and also creates corresponded attribute.\n     *\n     * @param {string} property\n     * @param {string} value\n     * @private\n     */\n    _set(property, value) {\n        this._values.set(property, value);\n        this._ownerElement.setAttribute(propertyNameToAttribute(property), value);\n    }\n\n    /**\n     * Method provides check if data attribute is set. Also checks attributes.\n     *\n     * @param {string} property\n     * @returns {boolean}\n     * @private\n     */\n    _has(property) {\n        if (this._values.has(property)) {\n            return true;\n        }\n\n        return this._ownerElement.hasAttribute(propertyNameToAttribute(property));\n    }\n\n    /**\n     * Method returns handlers for Proxy element\n     *\n     * @param {DOMStringMap} list\n     * @returns {{get: (function(this:*)), has: (function(this:*)), set: (function(this:*))}}\n     */\n    static getHandler(list) {\n        return {\n            get: DOMStringMap._handlerGet.bind(list),\n            has: DOMStringMap._handlerHas.bind(list),\n            set: DOMStringMap._handlerSet.bind(list),\n        };\n    }\n\n    /**\n     * Function process get of property in DOMStringMap.\n     *\n     * @param {Proxy} receiver\n     * @param {string} property\n     * @returns {string}\n     * @private\n     */\n    static _handlerGet(receiver, property) {\n        if (this._has(property)) {\n            return this._get(property);\n        }\n        return undefined;\n    }\n\n    /**\n     * Function returns boolean if target has property.\n     *\n     * @param {Proxy} receiver\n     * @param {string} property\n     * @returns {boolean}\n     * @private\n     */\n    static _handlerHas(receiver, property) {\n        return this._has(property);\n    }\n\n    /**\n     * Function process set of property in DOMStringMap.\n     *\n     * @param {Proxy} receiver\n     * @param {string} property\n     * @param {string} value\n     * @private\n     */\n    static _handlerSet(receiver, property, value) {\n        this._set(property, value);\n    }\n}\n\nfunction CreateDOMStringMap(element) {\n    let list = new DOMStringMap(element);\n    return Proxy.create(DOMStringMap.getHandler(list));\n}\n\n/**\n * @todo Implement processing rules\n * @param {string} name\n * @returns {string}\n * @private\n */\nfunction attributeNameToProperty(name) {\n    return name.replace(/^data-/i, '');\n}\n\n/**\n * @todo Implement processing rules\n * @param {string} name\n * @returns {string}\n * @private\n */\nfunction propertyNameToAttribute(name) {\n    return 'data-' + name;\n}\n\nexport {DOMStringMap, CreateDOMStringMap, attributeNameToProperty, propertyNameToAttribute};\n"]}