{"version":3,"sources":["../src/Node.js"],"names":["suite","test","document","div","createElement","getAttribute","hasAttribute","setAttribute","outerHTML","addEventListener","_eventsCapturingPhase","has","get","length","handler","removeEventListener","event","type","target","dispatchEvent","clone","cloneNode","ownerDocument","parentNode","tagName","innerHTML","querySelector","textContent"],"mappings":"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","file":"Node.js","sourcesContent":["import { strictEqual, isNull, isTrue, isFalse } from 'proclaim';\nimport { Document, Event } from '../../src';\n\nsuite('Node', () => {\n  test('Node attributes', () => {\n    const document = new Document();\n    const div = document.createElement('div');\n    isNull(div.getAttribute('id'));\n    isFalse(div.hasAttribute('id'));\n    div.setAttribute('id', 'testid');\n    strictEqual(div.getAttribute('id'), 'testid');\n    isTrue(div.hasAttribute('id'));\n    strictEqual(div.outerHTML, '<div id=\"testid\"></div>');\n  });\n\n  test('Node events attach', () => {\n    const document = new Document();\n    const div = document.createElement('div');\n    div.addEventListener('click', () => {}, true);\n    isTrue('_eventsCapturingPhase' in div);\n    isTrue(div._eventsCapturingPhase.has('click'));\n    strictEqual(div._eventsCapturingPhase.get('click').length, 1);\n  });\n\n  test('Node events remove', () => {\n    const document = new Document();\n    const div = document.createElement('div');\n\n    function handler() {}\n\n    div.addEventListener('click', handler, true);\n    isTrue('_eventsCapturingPhase' in div);\n    isTrue(div._eventsCapturingPhase.has('click'));\n    strictEqual(div._eventsCapturingPhase.get('click').length, 1);\n    div.removeEventListener('click', handler, true);\n    isTrue('_eventsCapturingPhase' in div);\n    isTrue(div._eventsCapturingPhase.has('click'));\n    strictEqual(div._eventsCapturingPhase.get('click').length, 0);\n  });\n\n  test('Node events type normalize', () => {\n    const document = new Document();\n    const div = document.createElement('div');\n\n    function handler() {}\n\n    div.addEventListener('DOMLoadReady', handler, true);\n    isTrue('_eventsCapturingPhase' in div);\n    isTrue(div._eventsCapturingPhase.has('domloadready'));\n  });\n\n  test('Node event dispatch', () => {\n    const document = new Document();\n    const div = document.createElement('div');\n    const event = new Event('DOMLoadReady');\n\n    function handler(event) {\n      strictEqual(event.type, 'domloadready');\n      strictEqual(event.target, div);\n    }\n\n    div.addEventListener('DOMLoadReady', handler, true);\n    isTrue('_eventsCapturingPhase' in div);\n    isTrue(div._eventsCapturingPhase.has('domloadready'));\n    div.dispatchEvent(event);\n  });\n\n  test('Node clone', () => {\n    const document = new Document();\n    const div = document.createElement('div');\n    div.setAttribute('test', 'test');\n    let clone = div.cloneNode();\n    isNull(clone.ownerDocument);\n    isNull(clone.parentNode);\n    strictEqual(clone.getAttribute('test'), 'test');\n    strictEqual(clone.tagName, 'div');\n  });\n\n  test('Node clone deep', () => {\n    const document = new Document();\n    const div = document.createElement('div');\n    div.innerHTML = '<span><i class=\"me\">Some text</i></span>';\n    div.setAttribute('test', 'test');\n    let clone = div.cloneNode(true);\n    isNull(clone.ownerDocument);\n    isNull(clone.parentNode);\n    strictEqual(clone.getAttribute('test'), 'test');\n    strictEqual(clone.querySelector('span i.me').textContent, 'Some text');\n  });\n});\n"]}