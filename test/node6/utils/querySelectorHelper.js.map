{"version":3,"sources":["../../src/utils/querySelectorHelper.js"],"names":["suite","document","test","div","createElement","innerHTML","span1","children","querySelector","spanAbc","innerSpan","querySelectorAll","spanA","spanAbc2","body","element","getAttribute","elements","length","textContent","span","tagName"],"mappings":"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","file":"querySelectorHelper.js","sourcesContent":["import { strictEqual, deepEqual, isNull } from 'proclaim';\nimport { Document } from '../../../src';\n\n\nsuite('querySelectorHelper', () => {\n  const document = new Document();\n\n  test('querySelector', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const span1 = div.children[0];\n\n    strictEqual(div.querySelector('span'), span1);\n  });\n\n  test('querySelectorAll', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const span1 = div.children[0];\n    const spanAbc = div.children[1];\n    const innerSpan = div.children[1].children[0];\n\n    deepEqual(div.querySelectorAll('span'), [span1, spanAbc, innerSpan]);\n  });\n\n  test('querySelector class', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span class=\"a\"/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const spanA = div.children[0];\n\n    strictEqual(div.querySelector('span.a'), spanA);\n  });\n\n  test('querySelectorAll class', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span class=\"a\"/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const spanA = div.children[0];\n    const spanAbc = div.children[1];\n\n    deepEqual(div.querySelectorAll('span.a'), [spanA, spanAbc]);\n  });\n\n  test('querySelector classes', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span class=\"a\"/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const spanAbc = div.children[1];\n\n    strictEqual(div.querySelector('span.a.b'), spanAbc);\n    strictEqual(div.querySelector('span.a.b.c'), spanAbc);\n  });\n\n  test('querySelectorAll classes', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span class=\"a\"/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const spanAbc = div.children[1];\n\n    deepEqual(div.querySelectorAll('span.a.b'), [spanAbc]);\n    deepEqual(div.querySelectorAll('span.a.b.c'), [spanAbc]);\n  });\n\n  test('querySelector has attribute', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const spanAbc = div.children[1];\n\n    strictEqual(div.querySelector('span[class]'), spanAbc);\n  });\n\n  test('querySelectorAll has attribute', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const spanAbc = div.children[1];\n\n    deepEqual(div.querySelectorAll('span[class]'), [spanAbc]);\n\n    div.innerHTML = '<span class=\"a\"/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const spanA = div.children[0];\n    const spanAbc2 = div.children[1];\n\n    deepEqual(div.querySelectorAll('span[class]'), [spanA, spanAbc2]);\n  });\n\n  test('querySelectorAll = attribute', () => {\n    const div = document.createElement('div');\n    div.innerHTML = '<span/><span class=\"a b c\" data-test=\"test\">content<span></span></span>';\n    const spanAbc = div.children[1];\n\n    isNull(div.querySelector('span[class=\"a\"]'));\n    deepEqual(div.querySelectorAll('span[class=\"a b c\"]'), [spanAbc]);\n  });\n\n  test('querySelector on several selectors', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"second\">Text</span></div><i>Skip me</i><input type=\"text\"/>';\n    let element = document.body.querySelector('.first, input');\n    strictEqual(element.getAttribute('type'), 'text');\n  });\n\n  test('querySelectorAll', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"first\">Text</span></div><i>Skip me</i><input type=\"text\"/>';\n    let elements = document.body.querySelectorAll('.first, input');\n    strictEqual(elements.length, 2);\n    strictEqual(elements[0].textContent, 'Text');\n    strictEqual(elements[1].getAttribute('type'), 'text');\n  });\n\n  test('querySelectorAll for several elements', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div>1</div><div>2</div><div>3</div><span></span><div>4</div>';\n    let elements = document.body.querySelectorAll('div');\n    strictEqual(elements.length, 4);\n    strictEqual(elements[0].textContent, '1');\n    strictEqual(elements[1].textContent, '2');\n    strictEqual(elements[2].textContent, '3');\n    strictEqual(elements[3].textContent, '4');\n  });\n\n  test('querySelectorAll deep several', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div>1<div>2<div>3<span></span><div>4</div></div></div></div>';\n    let elements = document.body.querySelectorAll('div');\n    strictEqual(elements.length, 4);\n    strictEqual(elements[0].textContent, '1234');\n    strictEqual(elements[1].textContent, '234');\n    strictEqual(elements[2].textContent, '34');\n    strictEqual(elements[3].textContent, '4');\n  });\n\n  test('querySelector complex rules', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"first\" data-attr=\"123\">Text</span></div>' +\n                              '<i data-attr=\"1\">Skip me</i><input type=\"text\"/><i data-attr=\"some words\"></i>' +\n                              '<i data-attr=\"some-words\"></i>';\n    let elements = document.body.querySelectorAll('[data-attr^=1]');\n    strictEqual(elements.length, 2);\n    elements = document.body.querySelectorAll('[data-attr$=3]');\n    strictEqual(elements.length, 1);\n    elements = document.body.querySelectorAll('[data-attr~=\"some\"]');\n    strictEqual(elements.length, 1);\n    elements = document.body.querySelectorAll('[data-attr*=\"om\"]');\n    strictEqual(elements.length, 2);\n  });\n\n  test('querySelector attribute rules', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"first\" data-attr=\"123\">Text</span></div>' +\n                              '<i data-attr=\"1\">Skip me</i><input type=\"text\"/><i data-attr=\"some words\"></i>' +\n                              '<i data-attr=\"some-words\"></i>';\n    let elements = document.body.querySelectorAll('[data-attr]');\n    strictEqual(elements.length, 4);\n  });\n\n  test('querySelector for nested elements', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"css class\"></span></div><span title=\"title\"></span>';\n\n    let span = document.body.querySelector('div span.css');\n    strictEqual(span.getAttribute('class'), 'css class');\n  });\n\n  test('Element querySelector on several selectors', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"second\">Text</span></div><i>Skip me</i><input type=\"text\"/>';\n    let element = document.body.querySelector('.first, input');\n    strictEqual(element.getAttribute('type'), 'text');\n  });\n\n  test('Element querySelectorAll for several selectors', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"first\">Text</span></div><i>Skip me</i><input type=\"text\"/>';\n    let elements = document.body.querySelectorAll('.first, input');\n    strictEqual(elements.length, 2);\n    strictEqual(elements[0].textContent, 'Text');\n    strictEqual(elements[1].getAttribute('type'), 'text');\n  });\n\n  test('Element querySelectorAll returns nothing if not found', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div>1<div>2<div>3<span></span><div>4</div></div></div></div>';\n    let elements = document.body.querySelectorAll('i');\n    strictEqual(elements.length, 0);\n  });\n\n  test('Element querySelector with ID', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div>1<div>2<div>3<span></span><div>4</div></div></div></div>';\n    let elements = document.body.querySelectorAll('#element');\n    strictEqual(elements.length, 0);\n  });\n\n  test('Element name equal or starts with \"|=\"', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"first\" data-attr=\"123\">Text</span></div>' +\n                              '<i data-attr=\"123-other\">Skip me</i><input type=\"text\"/><i data-attr=\"123other\"></i>' +\n                              '<i data-attr=\"other123-\"></i>';\n    let elements = document.body.querySelectorAll('[data-attr|=123]');\n    strictEqual(elements.length, 2);\n  });\n\n  test('Nesting with > combinator', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"first\" data-attr=\"123\">Text</span></div>' +\n                              '<div><i data-attr=\"123-other\"><span>Skip me</span></i></div><input type=\"text\"/>' +\n                              '<i data-attr=\"123other\"></i><i data-attr=\"other123-\"></i>';\n    let elements = document.body.querySelectorAll('div > span');\n    strictEqual(elements.length, 1);\n  });\n\n  test('Nesting with + combinator', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"first\" data-attr=\"123\">Text</span></div>' +\n                              '<div><i data-attr=\"123-other\"><span>Skip me</span></i></div><input type=\"text\"/>' +\n                              '<i data-attr=\"123other\"></i><i data-attr=\"other123-\"></i>';\n    let element = document.body.querySelector('input + i');\n    strictEqual(element.getAttribute('data-attr'), '123other');\n\n    document.body.innerHTML = '<div></div><p></p><div></div><a></a>';\n    element = document.body.querySelector('div + p');\n    strictEqual(element.tagName, 'p');\n  });\n\n  test('Nesting with ~ combinator', () => {\n    const document = new Document();\n    document.body.innerHTML = '<div><span class=\"first\" data-attr=\"123\">Text</span></div>' +\n                              '<div><i data-attr=\"123-other\"><span>Skip me</span></i></div><input type=\"text\"/>' +\n                              '<i data-attr=\"123other\"></i><i data-attr=\"other123-\"></i>';\n    let elements = document.body.querySelectorAll('input ~ i');\n    strictEqual(elements.length, 2);\n  });\n\n  test('Searching for nested structures', () => {\n    const document = new Document();\n    document.body.innerHTML =\n      '<b>' +\n      '<span>' +\n      '<b>' +\n      '<span>' +\n      '<b><span></span></b>' +\n      '</span>' +\n      '</b>' +\n      '</span>' +\n      '</b>';\n    let elements = document.body.querySelectorAll('b > span');\n    strictEqual(elements.length, 3);\n  });\n});\n"]}